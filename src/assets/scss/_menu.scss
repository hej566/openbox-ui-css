// Base class

.menu {
  background-color: $light;
  border: 1px solid transparent;
  padding-bottom: $menu-padding-y;
  padding-left: 0;
  width: $menu-width;

  &.horizontal-collapse {
    width: $menu-collapse-width;

    > .menu-item {
      display: flex;
      justify-content: center;

      > .menu-item__inner {
        padding: $menu-item-padding-y $menu-item-collapse-padding-x !important;

        > .menu-item__wrapper {
          > .menu-item__prefix {
            margin-right: 0;
            padding: $menu-icon-collapse-padding-y 0;
          }

          > .menu-item__content {
            display: none;
          }
        }
      }
    }

    > .submenu {
      > .submenu-header {
        display: flex;
        justify-content: center;

        > .submenu-header__inner {
          padding: $submenu-padding-y $submenu-collapse-padding-x !important;

          > .submenu-header__wrapper {
            > .submenu-header__prefix {
              margin-right: 0;
              padding: $menu-icon-collapse-padding-y 0;
            }

            > .submenu-header__content {
              display: none;
            }
          }

          > .submenu-header__suffix {
            display: none;
          }
        }
      }

      .submenu-body {
        border: 1px solid transparent;
        padding-bottom: 0.5rem;
        width: $submenu-body-collapse-width;

        .menu-item {
          .menu-item__inner {
            padding-left: 1.5rem !important;

            .menu-item__wrapper {
              padding-left: 0 !important;
            }
          }

          .menu-item__prefix {
            margin-right: 0 !important;
          }
        }

        .menu-group {
          .menu-group-header {
            padding: $menu-item-padding-y 0;
            padding-left: $menu-group-collapse-padding-x !important;
          }

          .menu-group-body {
            > .menu-item {
              .menu-item__prefix {
                margin-right: 0 !important;
              }
            }

            .submenu {
              > .submenu-header {
                padding-left: $submenu-menu-group-collapse-padding-x !important;
              }
            }
          }
        }

        .submenu-header {
          padding-left: 0 !important;

          .submenu-header__inner {
            padding-left: 1.5rem !important;

            .submenu-header__wrapper {
              padding-left: 0;
            }
          }

          .submenu-header__prefix {
            margin-right: 0;
          }

          .submenu-header__suffix {
            > .icon {
              @include transition($submenu-icon-transition);
            }
          }

          &:hover {
            .submenu-header__suffix {
              > .icon {
                @include transition($submenu-icon-transition);
                transform: rotate(-90deg);
              }
            }
          }
        }
      }
    }
  }
}

.submenu {
  margin-top: $submenu-padding-y;

  > .submenu-header {
    &:hover,
    &:focus {
      > .submenu-header__inner {
        @include gradient-bg($menu-item-hover-bg);
        color: $menu-item-hover-color;
        cursor: pointer;
        text-decoration: if($link-hover-decoration == underline, none, null);
      }
    }

    > .submenu-header__inner {
      align-items: center;
      border-radius: $submenu-border-radius;
      display: flex;
      justify-content: space-between;
      margin: 0 $submenu-padding-y;
      padding: $submenu-padding-y 0;

      > .submenu-header__wrapper {
        align-items: center;
        display: flex;

        > .submenu-header__prefix {
          margin-right: $submenu-padding-x;
        }
      }

      > .submenu-header__suffix {
        > .icon {
          @include transition($submenu-icon-transition);
        }
      }
    }
  }

  &.show {
    > .submenu-header {
      > .submenu-header__inner {
        > .submenu-header__suffix {
          > .icon {
            @include transition($submenu-icon-transition);
            transform: rotate(180deg);
          }
        }
      }
    }
  }
}

.menu-item {
  margin-top: $menu-item-padding-y;

  &:hover,
  &:focus {
    > .menu-item__inner {
      @include gradient-bg($menu-item-hover-bg);
      color: $menu-item-hover-color;
      cursor: pointer;
      text-decoration: if($link-hover-decoration == underline, none, null);

      .menu-item__content {
        a {
          color: $menu-item-hover-color !important;
        }
      }
    }
  }

  &.active,
  &:active {
    > .menu-item__inner {
      @include gradient-bg($menu-item-active-bg);
      color: $menu-item-active-color;
      cursor: pointer;
      text-decoration: none;

      .menu-item__content {
        a {
          color: $menu-item-active-color !important;
        }
      }
    }
  }

  &.disabled,
  &:disabled {
    > .menu-item__inner {
      background-color: transparent;
      background-image: if($enable-gradients, none, null);
      color: $menu-item-disabled-color;
      cursor: not-allowed;

      .menu-item__content {
        a {
          color: $menu-item-disabled-color !important;
        }
      }
    }
  }
}

.menu-item__inner {
  align-items: center;
  border-radius: $menu-item-border-radius;
  display: flex;
  margin: 0 $menu-item-padding-y;
  padding: $menu-item-padding-y 0;
}

.menu-item__prefix {
  margin-right: $menu-item-padding-x;
}

.menu-item__wrapper {
  align-items: center;
  display: flex;
  justify-content: flex-start;

  a {
    text-decoration: none !important;
  }
}

.menu-item__content {
  a {
    color: $menu-item-color !important;
  }
}

.menu-group {
  margin-top: $menu-item-padding-y;

  .menu-group-header {
    color: $menu-item-disabled-color;
    padding: $menu-item-padding-y 0;
  }
}
